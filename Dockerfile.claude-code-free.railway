FROM python:3.10-slim

WORKDIR /app

COPY claude-code-free/pyproject.toml claude-code-free/uv.lock* ./

RUN pip install --no-cache-dir uv && \
    uv pip install --system --no-cache -r pyproject.toml

COPY claude-code-free/ .

EXPOSE 8082

CMD ["uvicorn", "server:app", "--host", "::", "--port", "8082"]
